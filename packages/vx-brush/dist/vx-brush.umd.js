!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("recompose"),require("react"),require("classnames")):"function"==typeof define&&define.amd?define(["exports","recompose","react","classnames"],t):t(e.vx=e.vx||{},e.recompose,e.React,e.classNames)}(this,function(e,t,x,m){"use strict";function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return o}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}x=x&&x.hasOwnProperty("default")?x.default:x,m=m&&m.hasOwnProperty("default")?m.default:m;var r=t.compose(t.withState("brush","updateBrush",{start:void 0,end:void 0,domain:void 0,isBrushing:!1}),t.withHandlers({onBrushStart:function(e){var n=e.updateBrush;return function(e){var t=e.x,r=e.y;n(function(e){return o({},e,{start:{x:t,y:r},isBrushing:!0,end:void 0,domain:void 0})})}},onBrushDrag:function(e){var n=e.updateBrush;return function(e){var t=e.x,r=e.y;n(function(e){return o({},e,{end:{x:t,y:r},domain:void 0})})}},onBrushEnd:function(e){var t=e.updateBrush;return function(e){var r=e.x,n=e.y;t(function(e){var t=e.start;return o({},e,{isBrushing:!1,domain:{x0:Math.min(t.x,r),x1:Math.max(t.x,r),y0:Math.min(t.y,n),y1:Math.max(t.y,n)}})})}},onBrushReset:function(e){var t=e.updateBrush;return function(e){t(function(e){return{start:void 0,end:void 0,domain:void 0,isBrushing:!1}})}}}));e.withBrush=r,e.BoxBrush=function(e){var t=e.brush,r=e.className,n=e.fill,o=void 0===n?"rgba(102, 181, 245, 0.1)":n,i=e.stroke,a=void 0===i?"rgba(102, 181, 245, 1)":i,u=e.strokeWidth,s=void 0===u?1:u,c=g(e,["brush","className","fill","stroke","strokeWidth"]),f=t.start,l=t.end,d=t.isBrushing;if(!f)return null;if(!l)return null;var y=l.x>f.x?f.x:l.x,h=l.y>f.y?f.y:l.y,v=Math.abs(f.x-l.x),p=Math.abs(f.y-l.y);return x.createElement("g",{className:m("vx-brush",r)},d&&x.createElement("rect",b({fill:o,stroke:a,strokeWidth:s,x:y,y:h,width:v,height:p},c)))},e.constrainToRegion=function(e){var t=e.region,r=e.x,n=e.y,o=t.x0,i=t.x1,a=t.y0,u=t.y1;return{x:r<o?o:i<r?i:r,y:n<a?a:u<n?u:n}},e.getCoordsFromEvent=function(e,t){if(e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,{x:(n=n.matrixTransform(e.getScreenCTM().inverse())).x,y:n.y}}var o=e.getBoundingClientRect();return{x:t.clientX-o.left-e.clientLeft,y:t.clientY-o.top-e.clientTop}}},Object.defineProperty(e,"__esModule",{value:!0})});
