!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("classnames"),require("@vx/group"),require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","classnames","@vx/group","react","prop-types"],n):n(e.vx=e.vx||{},e.classNames,e.vx,e.React,e.PropTypes)}(this,function(e,R,o,U,n){"use strict";function k(){return(k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function H(t){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{},n=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),n.forEach(function(e){var n,r,a;n=t,a=l[r=e],r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a})}return t}function W(e,n){if(null==e)return{};var r,a,t=function(e,n){if(null==e)return{};var r,a,t={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],0<=n.indexOf(r)||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],0<=n.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],a=!0,t=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!n||r.length!==n);a=!0);}catch(e){t=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(t)throw l}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e){var n=e.flexDirection,r=void 0===n?"row":n,a=e.alignItems,t=void 0===a?"center":a,l=e.margin,i=void 0===l?"0":l,o=e.display,s=void 0===o?"flex":o,c=e.children,u=W(e,["flexDirection","alignItems","margin","display","children"]);return U.createElement("div",k({className:"vx-legend-item",style:{display:s,alignItems:t,flexDirection:r,margin:i}},u),c)}function C(e){var n=e.flex,r=void 0===n?"1":n,a=e.label,t=e.margin,l=void 0===t?"5px 0":t,i=e.align,o=void 0===i?"left":i,s=e.children;return U.createElement("div",{className:"vx-legend-label",style:{justifyContent:o,display:"flex",flex:r,margin:l}},s||a)}function p(e){var n=e.fill,r=e.width,a=e.height,t=e.style;return U.createElement("div",{style:H({width:r,height:a,background:n},t)})}function b(e){var n=e.fill,r=e.width,a=e.height,t=e.style;"string"==typeof r&&(r=0),"string"==typeof a&&(a=0);var l=Math.max(r,a),i=l/2;return U.createElement("svg",{width:l,height:l},U.createElement(o.Group,{top:i,left:i},U.createElement("circle",{r:i,fill:n,style:t})))}function G(e){return e&&e.value?e.value:e}function Q(e){var n=e.shape,r=void 0===n?p:n,a=e.width,t=e.height,l=e.margin,i=e.label,o=e.fill,s=e.size,c=e.shapeStyle;return U.createElement("div",{className:"vx-legend-shape",style:{display:"flex",width:s?s(H({},i)):a,height:s?s(H({},i)):t,margin:l}},function(e){var n=e.shape,r=void 0===n?"rect":n,a=e.fill,t=void 0===a?G:a,l=e.size,i=void 0===l?G:l,o=e.width,s=e.height,c=e.label,u=e.shapeStyle,m=void 0===u?function(e){}:u,f={width:o,height:s,label:c,fill:t(H({},c)),size:i(H({},c)),style:m(H({},c))};return"string"==typeof r?"rect"===r?U.createElement(p,f):U.createElement(b,f):U.isValidElement(r)?U.cloneElement(r,f):U.createElement(r,f)}({shape:r,label:i,width:a,height:t,fill:o,shapeStyle:c}))}R=R&&R.hasOwnProperty("default")?R.default:R,U=U&&U.hasOwnProperty("default")?U.default:U,n=n&&n.hasOwnProperty("default")?n.default:n,_.propTypes={flexDirection:n.string,alignItems:n.string,margin:n.oneOfType([n.string,n.number]),children:n.any},C.propTypes={align:n.string,label:n.any,flex:n.oneOfType([n.string,n.number]),margin:n.oneOfType([n.string,n.number]),children:n.any},p.propTypes={fill:n.any,width:n.oneOfType([n.number,n.string]),height:n.oneOfType([n.number,n.string]),style:n.object},b.propTypes={fill:n.any,width:n.oneOfType([n.number,n.string]),height:n.oneOfType([n.number,n.string]),style:n.object},Q.propTypes={shape:n.any,width:n.any,height:n.any,margin:n.any,label:n.any,fill:n.any,size:n.any,shapeStyle:n.any},y.propTypes={className:n.string,style:n.any,domain:n.array,scale:n.oneOfType([n.func,n.object]).isRequired,shapeWidth:n.oneOfType([n.number,n.string]),shapeHeight:n.oneOfType([n.number,n.string]),shapeMargin:n.any,labelAlign:n.string,labelFlex:n.string,labelMargin:n.string,itemMargin:n.string,direction:n.string,itemDirection:n.string,fill:n.any,size:n.any,shape:n.any,shapeStyle:n.any,labelFormat:n.func,labelTransform:n.func,children:n.func};var V={display:"flex"};function y(e){var n=e.className,r=e.style,a=void 0===r?V:r,t=e.shapeStyle,l=e.scale,i=e.shape,o=e.domain,s=e.fill,c=void 0===s?G:s,u=e.size,m=void 0===u?G:u,f=e.labelFormat,d=void 0===f?G:f,p=e.labelTransform,b=void 0===p?B:p,y=e.shapeWidth,v=void 0===y?15:y,g=e.shapeHeight,h=void 0===g?15:g,x=e.shapeMargin,T=void 0===x?"2px 4px 2px 0":x,w=e.labelAlign,O=void 0===w?"left":w,F=e.labelFlex,E=void 0===F?"1":F,D=e.labelMargin,j=void 0===D?"0 4px":D,L=e.itemMargin,S=void 0===L?"0":L,M=e.direction,P=void 0===M?"column":M,q=e.itemDirection,z=void 0===q?"row":q,N=e.children,A=W(e,["className","style","shapeStyle","scale","shape","domain","fill","size","labelFormat","labelTransform","shapeWidth","shapeHeight","shapeMargin","labelAlign","labelFlex","labelMargin","itemMargin","direction","itemDirection","children"]),I=(o=o||l.domain()).map(b({scale:l,labelFormat:d}));return N?N(I):U.createElement("div",{className:R("vx-legend",n),style:H({},a,{flexDirection:P})},I.map(function(e,n){var r=e.text;return U.createElement(_,k({key:"legend-".concat(e,"-").concat(n),margin:S,flexDirection:z,label:e},A),U.createElement(Q,{shape:i,height:h,width:v,margin:T,label:e,fill:c,size:m,shapeStyle:t}),U.createElement(C,{label:r,flex:E,margin:j,align:O}))}))}function B(e){var r=e.scale,a=e.labelFormat;return function(e,n){return{datum:e,index:n,text:"".concat(a(e,n)),value:r(e)}}}function r(e){var n=e.scale,r=e.domain,a=e.labelFormat,t=void 0===a?function(e){return e}:a,l=e.labelTransform,i=e.labelDelimiter,o=void 0===i?"-":i,s=W(e,["scale","domain","labelFormat","labelTransform","labelDelimiter"]);return r=r||n.range(),l=l||function(e){var o=e.labelDelimiter;return function(e){var l=e.scale,i=e.labelFormat;return function(e,n){var r=d(l.invertExtent(e),2),a=r[0],t=r[1];return{extent:[a,t],text:"".concat(i(a,n)," ").concat(o," ").concat(i(t,n)),value:l(a),datum:e,index:n}}}}({labelDelimiter:o}),U.createElement(y,k({scale:n,domain:r,labelFormat:t,labelTransform:l},s))}function a(e){var n=e.scale,r=e.domain,a=e.steps,t=void 0===a?5:a,l=e.labelFormat,i=void 0===l?function(e){return e}:l,o=e.labelTransform,s=void 0===o?u:o,c=W(e,["scale","domain","steps","labelFormat","labelTransform"]);return r=r||function(e){var n=e.steps,r=e.scale.domain(),a=r[0],t=(r[r.length-1]-a)/(n-1);return new Array(n).fill(1).reduce(function(e,n,r){return e.push(a+r*t),e},[])}({steps:t,scale:n}),U.createElement(y,k({scale:n,domain:r,labelFormat:i,labelTransform:s},c))}function u(e){var r=e.scale,a=e.labelFormat;return function(e,n){return{text:"".concat(a(e,n)),value:r(e)}}}function t(e){var n=e.scale,r=e.domain,a=e.labelTransform,t=void 0===a?s:a,l=e.labelFormat,i=void 0===l?G:l,o=W(e,["scale","domain","labelTransform","labelFormat"]);return U.createElement(y,k({scale:n,domain:r,labelFormat:i,labelTransform:t},o))}function s(e){var r=e.scale,a=e.labelFormat;return function(e,n){return{datum:e,index:n,text:"".concat(a(e,n)),value:r(e)}}}function l(e){var n=e.scale,r=e.domain,a=e.labelFormat,t=void 0===a?function(e){return e}:a,l=e.labelTransform,i=e.labelDelimiter,o=void 0===i?"to":i,s=e.labelLower,c=void 0===s?"Less than ":s,u=e.labelUpper,m=void 0===u?"More than ":u,f=W(e,["scale","domain","labelFormat","labelTransform","labelDelimiter","labelLower","labelUpper"]);return r=r||n.range(),l=l||function(e){var u=e.labelDelimiter,m=e.labelLower,f=e.labelUpper;return function(e){var o=e.scale,s=e.labelFormat;function c(e,n,r){var a=e(n,r);return 0===a?"0":a||""}return function(e,n){var r,a=d(o.invertExtent(e),2),t=a[0],l=a[1],i=" ".concat(u," ");return 0===t||t||0!==l&&!l?0!==t&&!t||0!==l&&!l?l||0!==t&&!t||(r=t+o.domain()[1],l=t,t=void 0,i=f):r=t:(r=l-1,i=m),{extent:[t,l],text:"".concat(c(s,t,n)).concat(i).concat(c(s,l,n)),value:o(r),datum:e,index:n}}}}({labelDelimiter:o,labelLower:c,labelUpper:m}),U.createElement(y,k({scale:n,domain:r,labelFormat:t,labelTransform:l},f))}function m(e){var r=e.scale,a=e.labelFormat;return function(e,n){return{text:"".concat(a(e,n)),value:r(e),datum:e,index:n}}}r.propTypes={scale:n.func.isRequired,domain:n.array,labelFormat:n.func,labelTransform:n.func,labelDelimiter:n.string},a.propTypes={scale:n.func.isRequired,domain:n.array,steps:n.number,labelFormat:n.func,labelTransform:n.func},t.propTypes={scale:n.func.isRequired,domain:n.array,labelTransform:n.func,labelFormat:n.func},l.propTypes={scale:n.func.isRequired,domain:n.array,labelTransform:n.func,labelFormat:n.func,labelDelimiter:n.string,labelLower:n.string,labelUpper:n.string},e.Legend=y,e.LegendQuantile=r,e.LegendLinear=a,e.LegendOrdinal=t,e.LegendThreshold=l,e.LegendSize=function(e){var n=e.scale,r=e.domain,a=e.steps,t=void 0===a?5:a,l=e.labelFormat,i=void 0===l?function(e){return e}:l,o=e.labelTransform,s=void 0===o?m:o,c=W(e,["scale","domain","steps","labelFormat","labelTransform"]);return r=r||function(e){var n=e.steps,r=e.scale.domain(),a=r[0],t=(r[r.length-1]-a)/(n-1);return new Array(n).fill(1).reduce(function(e,n,r){return e.push(a+r*t),e},[])}({steps:t,scale:n}),U.createElement(y,k({scale:n,domain:r,labelFormat:i,labelTransform:s},c))},e.LegendItem=_,e.LegendLabel=C,e.LegendShape=Q,Object.defineProperty(e,"__esModule",{value:!0})});
