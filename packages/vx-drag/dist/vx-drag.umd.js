!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@vx/event"),require("prop-types"),require("react")):"function"==typeof define&&define.amd?define(["exports","@vx/event","prop-types","react"],t):t(e.vx=e.vx||{},e.vx,e.PropTypes,e.React)}(this,function(e,c,t,d){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return o}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t=t&&t.hasOwnProperty("default")?t.default:t,d=d&&d.hasOwnProperty("default")?d.default:d;var r=function(){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}(this,o(r).call(this,e))).state={x:void 0,y:void 0,dx:0,dy:0,isDragging:!1},t.dragEnd=t.dragEnd.bind(a(t)),t.dragMove=t.dragMove.bind(a(t)),t.dragStart=t.dragStart.bind(a(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,d.Component),function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(r,[{key:"dragStart",value:function(e){var t=this.props,r=t.onDragStart,n=t.resetOnStart,o=this.state,i=o.dx,a=o.dy,u=c.localPoint(e),s=f({},this.state,{isDragging:!0,dx:n?0:i,dy:n?0:a,x:n?u.x:-i+u.x,y:n?u.y:-a+u.y});r&&r(f({},s,{event:e})),this.setState(function(){return s})}},{key:"dragMove",value:function(e){var t=this.props.onDragMove,r=this.state,n=r.x,o=r.y;if(r.isDragging){var i=c.localPoint(e),a=f({},this.state,{isDragging:!0,dx:-(n-i.x),dy:-(o-i.y)});t&&t(f({},a,{event:e})),this.setState(function(){return a})}}},{key:"dragEnd",value:function(e){var t=this.props.onDragEnd,r=(c.localPoint(e),f({},this.state,{isDragging:!1}));t&&t(f({},r,{event:e})),this.setState(function(){return r})}},{key:"render",value:function(){var e=this.state,t=e.x,r=e.y,n=e.dx,o=e.dy,i=e.isDragging,a=this.props,u=a.children,s=a.width,c=a.height,f=a.captureDragArea;return d.createElement("g",null,i&&f&&d.createElement("rect",{width:s,height:c,onMouseMove:this.dragMove,onMouseUp:this.dragEnd,fill:"transparent"}),u({x:t,y:r,dx:n,dy:o,isDragging:i,dragEnd:this.dragEnd,dragMove:this.dragMove,dragStart:this.dragStart}))}}]),r}();r.propTypes={children:t.func.isRequired,width:t.number.isRequired,height:t.number.isRequired,captureDragArea:t.bool,resetOnStart:t.bool,onDragEnd:t.func,onDragMove:t.func,onDragStart:t.func},r.defaultProps={captureDragArea:!0,resetOnStart:!1},e.Drag=r,e.raise=function(e,t){var r=e.slice(),n=r.length-1,o=r.splice(t,1)[0];return r.splice(n,0,o),r},Object.defineProperty(e,"__esModule",{value:!0})});
